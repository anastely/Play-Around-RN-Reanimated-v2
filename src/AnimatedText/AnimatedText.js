import React from 'react';
import {StyleSheet, View, Dimensions} from 'react-native';
import {Easing, useSharedValue, withTiming} from 'react-native-reanimated';
import Svg from 'react-native-svg';
import AnimatedLogo from './AnimatedLogo';

import AnimatedStroke from './AnimatedStroke';

const MARGIN = 10;
const vWidth = 448 + MARGIN;
const vHeight = 287 + MARGIN;
const width = Dimensions.get('window').width - 64;
const height = (width * vHeight) / vWidth;
const paths = [
  'M25.6428 107C24.6428 107 23.7928 106.65 23.0928 105.95C22.3928 105.25 22.0428 104.4 22.0428 103.4V5.75C22.0428 4.65 22.3428 3.75 22.9428 3.05C23.6428 2.35 24.5428 2 25.6428 2H64.4928C76.6928 2 86.2428 4.85 93.1428 10.55C100.143 16.25 103.643 24.35 103.643 34.85C103.643 42.15 101.843 48.3 98.2428 53.3C94.7428 58.2 89.8428 61.75 83.5428 63.95L105.443 102.2C105.743 102.8 105.893 103.35 105.893 103.85C105.893 104.75 105.543 105.5 104.843 106.1C104.243 106.7 103.543 107 102.743 107H89.0928C87.4928 107 86.2428 106.65 85.3428 105.95C84.5428 105.25 83.7928 104.25 83.0928 102.95L63.7428 67.4H42.8928V103.4C42.8928 104.4 42.5428 105.25 41.8428 105.95C41.2428 106.65 40.3928 107 39.2928 107H25.6428ZM64.0428 50.45C70.0428 50.45 74.5428 49.1 77.5428 46.4C80.6428 43.7 82.1928 39.8 82.1928 34.7C82.1928 29.6 80.6428 25.65 77.5428 22.85C74.5428 20.05 70.0428 18.65 64.0428 18.65H42.8928V50.45H64.0428Z',
  'M153.892 108.5C142.792 108.5 133.942 105.3 127.342 98.9C120.842 92.4 117.392 83.3 116.992 71.6L116.842 67.85L116.992 64.1C117.492 52.7 120.992 43.75 127.492 37.25C134.092 30.75 142.892 27.5 153.892 27.5C165.692 27.5 174.792 31.1 181.192 38.3C187.692 45.5 190.942 55.1 190.942 67.1V70.25C190.942 71.25 190.592 72.1 189.892 72.8C189.192 73.5 188.292 73.85 187.192 73.85H137.392V75.05C137.592 80.55 139.092 85.2 141.892 89C144.792 92.7 148.742 94.55 153.742 94.55C159.642 94.55 164.392 92.25 167.992 87.65C168.892 86.55 169.592 85.85 170.092 85.55C170.692 85.25 171.542 85.1 172.642 85.1H185.542C186.442 85.1 187.192 85.4 187.792 86C188.492 86.5 188.842 87.15 188.842 87.95C188.842 90.35 187.392 93.2 184.492 96.5C181.692 99.7 177.642 102.5 172.342 104.9C167.042 107.3 160.892 108.5 153.892 108.5ZM170.542 61.25V60.8C170.542 54.9 169.042 50.15 166.042 46.55C163.142 42.95 159.092 41.15 153.892 41.15C148.692 41.15 144.642 42.95 141.742 46.55C138.842 50.15 137.392 54.9 137.392 60.8V61.25H170.542Z',
  'M229.514 108.5C224.414 108.5 219.714 107.5 215.414 105.5C211.214 103.4 207.864 100.6 205.364 97.1C202.964 93.6 201.764 89.75 201.764 85.55C201.764 78.75 204.514 73.25 210.014 69.05C215.514 64.85 223.064 62 232.664 60.5L253.214 57.5V54.35C253.214 49.95 252.114 46.65 249.914 44.45C247.714 42.25 244.164 41.15 239.264 41.15C235.964 41.15 233.264 41.8 231.164 43.1C229.164 44.3 227.564 45.5 226.364 46.7C225.164 48 224.364 48.85 223.964 49.25C223.564 50.45 222.814 51.05 221.714 51.05H210.164C209.264 51.05 208.464 50.75 207.764 50.15C207.164 49.55 206.864 48.75 206.864 47.75C206.964 45.25 208.164 42.4 210.464 39.2C212.864 36 216.514 33.25 221.414 30.95C226.314 28.65 232.314 27.5 239.414 27.5C251.214 27.5 259.814 30.15 265.214 35.45C270.614 40.75 273.314 47.7 273.314 56.3V103.4C273.314 104.4 272.964 105.25 272.264 105.95C271.664 106.65 270.814 107 269.714 107H257.564C256.564 107 255.714 106.65 255.014 105.95C254.314 105.25 253.964 104.4 253.964 103.4V97.55C251.764 100.75 248.614 103.4 244.514 105.5C240.514 107.5 235.514 108.5 229.514 108.5ZM234.614 94.25C240.114 94.25 244.614 92.45 248.114 88.85C251.614 85.25 253.364 80 253.364 73.1V69.95L238.364 72.35C232.564 73.25 228.164 74.7 225.164 76.7C222.264 78.7 220.814 81.15 220.814 84.05C220.814 87.25 222.164 89.75 224.864 91.55C227.564 93.35 230.814 94.25 234.614 94.25Z',
  'M326.307 108.5C315.307 108.5 306.507 105.45 299.907 99.35C293.407 93.25 289.957 84.8 289.557 74L289.407 68L289.557 62C289.957 51.2 293.407 42.75 299.907 36.65C306.507 30.55 315.307 27.5 326.307 27.5C334.107 27.5 340.707 28.9 346.107 31.7C351.607 34.5 355.657 37.95 358.257 42.05C360.957 46.05 362.407 49.85 362.607 53.45C362.707 54.45 362.357 55.3 361.557 56C360.857 56.7 360.007 57.05 359.007 57.05H345.807C344.807 57.05 344.007 56.85 343.407 56.45C342.907 55.95 342.407 55.15 341.907 54.05C340.407 50.15 338.407 47.35 335.907 45.65C333.507 43.95 330.407 43.1 326.607 43.1C321.507 43.1 317.507 44.75 314.607 48.05C311.707 51.25 310.157 56.15 309.957 62.75L309.807 68.3L309.957 73.25C310.357 86.35 315.907 92.9 326.607 92.9C330.507 92.9 333.657 92.05 336.057 90.35C338.457 88.65 340.407 85.85 341.907 81.95C342.407 80.85 342.907 80.1 343.407 79.7C344.007 79.2 344.807 78.95 345.807 78.95H359.007C360.007 78.95 360.857 79.3 361.557 80C362.357 80.7 362.707 81.55 362.607 82.55C362.407 86.05 361.007 89.8 358.407 93.8C355.807 97.8 351.807 101.25 346.407 104.15C341.007 107.05 334.307 108.5 326.307 108.5Z',
  'M413.501 107C404.401 107 397.551 104.65 392.951 99.95C388.451 95.15 386.201 88.15 386.201 78.95V44.9H374.351C373.351 44.9 372.501 44.55 371.801 43.85C371.101 43.05 370.751 42.15 370.751 41.15V32.6C370.751 31.6 371.101 30.75 371.801 30.05C372.501 29.35 373.351 29 374.351 29H386.201V4.1C386.201 3 386.551 2.15 387.251 1.55C387.951 0.850001 388.801 0.5 389.801 0.5H401.951C403.051 0.5 403.901 0.850001 404.501 1.55C405.201 2.15 405.551 3 405.551 4.1V29H424.301C425.401 29 426.251 29.35 426.851 30.05C427.551 30.65 427.901 31.5 427.901 32.6V41.15C427.901 42.25 427.551 43.15 426.851 43.85C426.151 44.55 425.301 44.9 424.301 44.9H405.551V77.45C405.551 81.75 406.301 85 407.801 87.2C409.301 89.4 411.801 90.5 415.301 90.5H425.651C426.651 90.5 427.501 90.85 428.201 91.55C428.901 92.25 429.251 93.1 429.251 94.1V103.4C429.251 104.4 428.901 105.25 428.201 105.95C427.601 106.65 426.751 107 425.651 107H413.501Z',
  'M4.40254 285C3.40254 285 2.55254 284.65 1.85254 283.95C1.15254 283.25 0.802536 282.4 0.802536 281.4V183.75C0.802536 182.65 1.10254 181.75 1.70254 181.05C2.40254 180.35 3.30254 180 4.40254 180H15.9525C17.1525 180 18.0525 180.25 18.6525 180.75C19.2525 181.15 19.8025 181.7 20.3025 182.4L63.5025 249.6V183.75C63.5025 182.65 63.8025 181.75 64.4025 181.05C65.1025 180.35 66.0025 180 67.1025 180H79.7025C80.8025 180 81.7025 180.35 82.4025 181.05C83.1025 181.75 83.4525 182.65 83.4525 183.75V281.25C83.4525 282.35 83.1025 283.25 82.4025 283.95C81.7025 284.65 80.8525 285 79.8525 285H68.1525C66.4525 285 65.0025 284.2 63.8025 282.6L20.7525 216.9V281.4C20.7525 282.5 20.4025 283.4 19.7025 284.1C19.0025 284.7 18.1025 285 17.0025 285H4.40254Z',
  'M127.707 286.5C122.607 286.5 117.907 285.5 113.607 283.5C109.407 281.4 106.057 278.6 103.557 275.1C101.157 271.6 99.9572 267.75 99.9572 263.55C99.9572 256.75 102.707 251.25 108.207 247.05C113.707 242.85 121.257 240 130.857 238.5L151.407 235.5V232.35C151.407 227.95 150.307 224.65 148.107 222.45C145.907 220.25 142.357 219.15 137.457 219.15C134.157 219.15 131.457 219.8 129.357 221.1C127.357 222.3 125.757 223.5 124.557 224.7C123.357 226 122.557 226.85 122.157 227.25C121.757 228.45 121.007 229.05 119.907 229.05H108.357C107.457 229.05 106.657 228.75 105.957 228.15C105.357 227.55 105.057 226.75 105.057 225.75C105.157 223.25 106.357 220.4 108.657 217.2C111.057 214 114.707 211.25 119.607 208.95C124.507 206.65 130.507 205.5 137.607 205.5C149.407 205.5 158.007 208.15 163.407 213.45C168.807 218.75 171.507 225.7 171.507 234.3V281.4C171.507 282.4 171.157 283.25 170.457 283.95C169.857 284.65 169.007 285 167.907 285H155.757C154.757 285 153.907 284.65 153.207 283.95C152.507 283.25 152.157 282.4 152.157 281.4V275.55C149.957 278.75 146.807 281.4 142.707 283.5C138.707 285.5 133.707 286.5 127.707 286.5ZM132.807 272.25C138.307 272.25 142.807 270.45 146.307 266.85C149.807 263.25 151.557 258 151.557 251.1V247.95L136.557 250.35C130.757 251.25 126.357 252.7 123.357 254.7C120.457 256.7 119.007 259.15 119.007 262.05C119.007 265.25 120.357 267.75 123.057 269.55C125.757 271.35 129.007 272.25 132.807 272.25Z',
  'M225.268 285C216.168 285 209.318 282.65 204.718 277.95C200.218 273.15 197.968 266.15 197.968 256.95V222.9H186.118C185.118 222.9 184.268 222.55 183.568 221.85C182.868 221.05 182.518 220.15 182.518 219.15V210.6C182.518 209.6 182.868 208.75 183.568 208.05C184.268 207.35 185.118 207 186.118 207H197.968V182.1C197.968 181 198.318 180.15 199.018 179.55C199.718 178.85 200.568 178.5 201.568 178.5H213.718C214.818 178.5 215.668 178.85 216.268 179.55C216.968 180.15 217.318 181 217.318 182.1V207H236.068C237.168 207 238.018 207.35 238.618 208.05C239.318 208.65 239.668 209.5 239.668 210.6V219.15C239.668 220.25 239.318 221.15 238.618 221.85C237.918 222.55 237.068 222.9 236.068 222.9H217.318V255.45C217.318 259.75 218.068 263 219.568 265.2C221.068 267.4 223.568 268.5 227.068 268.5H237.418C238.418 268.5 239.268 268.85 239.968 269.55C240.668 270.25 241.018 271.1 241.018 272.1V281.4C241.018 282.4 240.668 283.25 239.968 283.95C239.368 284.65 238.518 285 237.418 285H225.268Z',
  'M257.325 194.1C256.325 194.1 255.475 193.75 254.775 193.05C254.075 192.35 253.725 191.5 253.725 190.5V179.7C253.725 178.7 254.075 177.85 254.775 177.15C255.475 176.45 256.325 176.1 257.325 176.1H270.975C271.975 176.1 272.825 176.45 273.525 177.15C274.325 177.85 274.725 178.7 274.725 179.7V190.5C274.725 191.5 274.375 192.35 273.675 193.05C272.975 193.75 272.075 194.1 270.975 194.1H257.325ZM257.925 285C256.925 285 256.075 284.65 255.375 283.95C254.675 283.25 254.325 282.4 254.325 281.4V210.6C254.325 209.6 254.675 208.75 255.375 208.05C256.075 207.35 256.925 207 257.925 207H270.375C271.475 207 272.325 207.35 272.925 208.05C273.625 208.65 273.975 209.5 273.975 210.6V281.4C273.975 282.4 273.625 283.25 272.925 283.95C272.325 284.65 271.475 285 270.375 285H257.925Z',
  'M321.476 285C319.976 285 318.826 284.7 318.026 284.1C317.226 283.4 316.576 282.45 316.076 281.25L288.026 211.65L287.726 210.3C287.726 209.4 288.026 208.65 288.626 208.05C289.326 207.35 290.126 207 291.026 207H303.176C305.076 207 306.376 207.95 307.076 209.85L327.026 262.5L346.976 209.85C347.276 209.15 347.726 208.5 348.326 207.9C349.026 207.3 349.876 207 350.876 207H363.176C363.976 207 364.676 207.35 365.276 208.05C365.976 208.65 366.326 209.4 366.326 210.3C366.326 210.9 366.276 211.35 366.176 211.65L337.976 281.25C337.476 282.45 336.826 283.4 336.026 284.1C335.226 284.7 334.076 285 332.576 285H321.476Z',
  'M410.825 286.5C399.725 286.5 390.875 283.3 384.275 276.9C377.775 270.4 374.325 261.3 373.925 249.6L373.775 245.85L373.925 242.1C374.425 230.7 377.925 221.75 384.425 215.25C391.025 208.75 399.825 205.5 410.825 205.5C422.625 205.5 431.725 209.1 438.125 216.3C444.625 223.5 447.875 233.1 447.875 245.1V248.25C447.875 249.25 447.525 250.1 446.825 250.8C446.125 251.5 445.225 251.85 444.125 251.85H394.325V253.05C394.525 258.55 396.025 263.2 398.825 267C401.725 270.7 405.675 272.55 410.675 272.55C416.575 272.55 421.325 270.25 424.925 265.65C425.825 264.55 426.525 263.85 427.025 263.55C427.625 263.25 428.475 263.1 429.575 263.1H442.475C443.375 263.1 444.125 263.4 444.725 264C445.425 264.5 445.775 265.15 445.775 265.95C445.775 268.35 444.325 271.2 441.425 274.5C438.625 277.7 434.575 280.5 429.275 282.9C423.975 285.3 417.825 286.5 410.825 286.5ZM427.475 239.25V238.8C427.475 232.9 425.975 228.15 422.975 224.55C420.075 220.95 416.025 219.15 410.825 219.15C405.625 219.15 401.575 220.95 398.675 224.55C395.775 228.15 394.325 232.9 394.325 238.8V239.25H427.475Z',
];
const AnimatedText = () => {
  const progress = useSharedValue(0);

  React.useEffect(() => {
    progress.value = withTiming(1, {duration: 4000, easing: Easing.linear});
  }, [progress]);

  return (
    <View style={styles.layer}>
      <View style={styles.layer}>
        <AnimatedLogo progress={progress} />
      </View>
      <Svg
        width={width}
        height={height}
        viewBox={`${-MARGIN / 2} ${-MARGIN / 2} ${vWidth + MARGIN / 2} ${
          vHeight + MARGIN / 2
        }`}>
        {paths.map((d, key) => (
          <AnimatedStroke d={d} progress={progress} key={key} />
        ))}
      </Svg>
    </View>
  );
};

export default AnimatedText;

const styles = StyleSheet.create({
  layer: {
    ...StyleSheet.absoluteFillObject,
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
  },
});
